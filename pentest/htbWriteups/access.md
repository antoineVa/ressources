# Access

- Machine Windows
- @IP : `10.10.10.98`

# Reconnaissance 

- Application web sur le port 80
- Sources : rien
- Headers : rien
- Echanges réseau : rien
- Scripts client : rien

Scan réseau :

    nmap -sV 10.10.10.98

    PORT   STATE SERVICE
    21/tcp open  ftp (Microsoft ftpd)
    23/tcp open  telnet
    80/tcp open  http (Microsoft IIS httpd 7.5)

    nmap -sS -PN -n -sV -sC 10.10.10.98

    PORT   STATE SERVICE VERSION
    21/tcp open  ftp     Microsoft ftpd
    | ftp-anon: Anonymous FTP login allowed (FTP code 230)
    |_Can't get directory listing: TIMEOUT
    | ftp-syst: 
    |_  SYST: Windows_NT
    23/tcp open  telnet?
    80/tcp open  http    Microsoft IIS httpd 7.5
    | http-methods: 
    |_  Potentially risky methods: TRACE
    |_http-server-header: Microsoft-IIS/7.5
    |_http-title: MegaCorp
    Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

Répertoires web trouvés :

msf > auxiliary/scanner/http/dir_scanner :

    Found http://10.10.10.98:80/aspnet_client/ 403 (10.10.10.98)

dirb http://10.10.10.98

    10.10.10.98/index.html
    10.10.10.98/aspnet_client
    10.10.10.98/aspnet_client/system_web/

msf > auxiliary/scanner/http/webdav_scanner :

    [*] 10.10.10.98 (Microsoft-IIS/7.5) WebDAV disabled.

## Exploitation

### Serveur FTP
On sait grâce aux scans NMAP qu'un service FTP est lancé sur la machine cible.
On sait également que le login en tant qu'utilisation Anonymous est autorisé, on va donc tester de se connecter au serveur pour vérifier le contenu : 

    ftp 10.10.10.98
    Name: anonymous
    Password : <vide>

La connexion est autorisée, et on peut lister le contenu :

    ftp> ls
    200 PORT command successful.
    125 Data connection already open; Transfer starting.
    08-23-18  08:16PM       <DIR>          Backups
    08-24-18  09:00PM       <DIR>          Engineer

On récupère deux fichiers dans ces différents répertoires :
- Access Control.zip
- backup.mdb

### Fichier zip

Tentative de cracker le fichier zip avec fcrackzip, ne donne rien :
```
fcrackzip -u -D -p ~/rockyou.txt AccessControl.zip
```

### Backup DB
backup.mdb 

```
file backup.mdb
backup.mdb: Microsoft Access Database
```

On dump la base Access :
```

```
